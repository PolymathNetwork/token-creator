(window["webpackJsonptoken-creator"]=window["webpackJsonptoken-creator"]||[]).push([[0],{1110:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),s=r(13),o=r.n(s),l=(r(407),r(2)),i=r.n(l),c=r(100),u=r(240),d=r(384),m=r(179),p=r(1119),y=r(1121),f=r(1118),g=r(1117),b=r(1122),v=r(25),E=r(1112),h=r(1123),w=r(1120),k=r(182),O=r(1113),R=r(1114),x=r(1115),I=r(1116),T=r(385),A=r(386),S=r(387);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(r,!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=p.a.Option,D=y.a.Content,P=y.a.Header,M=f.a.Item,F=g.a.Text,_=g.a.Title,B=g.a.Paragraph,L={1:{polymathRegistryAddress:"0xdfabf3e4793cd30affb47ab6fa4cf4eef26bbc27"},42:{polymathRegistryAddress:"0x5b215a7d39ee305ad28da29bf2f0425c6c2a00b3"},15:{polymathRegistryAddress:"0x9FBDa871d559710256a2502A2517b794B482Db40"}};b.a.config({duration:5,maxCount:1,top:150});var V={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};function U(e){var t=e.networkId;t=t.toString();return n.a.createElement(a.Fragment,null,n.a.createElement(v.a,{type:"global",style:{marginRight:10,marginLeft:20}}),n.a.createElement(F,null,{0:"Disconnected",1:"Mainnet",42:"Kovan"}[t]))}function G(e){var t=e.walletAddress;return t?n.a.createElement(a.Fragment,null,n.a.createElement(v.a,{type:"user",style:{marginRight:5,marginLeft:10}}),n.a.createElement(F,null,t)):null}var W=function(){var e=Object(a.useContext)(q),t=Object(u.a)(e,2),r=t[0],s=t[1],o=r.AppReducer,l=o.sdk,d=o.loading,g=o.loadingMessage,v=o.reservations,j=o.walletAddress,C=o.error,F=o.networkId,W=Object(a.useState)(""),Y=Object(u.a)(W,2),K=Y[0],z=Y[1],H=Object(T.a)(),Z=H.getFieldDecorator,J=H.resetFields,$=H.validateFields;function Q(){return(Q=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K){e.next=18;break}return s({type:"RESERVING_SYMBOL"}),e.prev=2,e.next=5,l.reserveSecurityToken({symbol:K});case 5:return t=e.sent,e.next=8,t.run();case 8:e.sent,s({type:"RESERVED_SYMBOL"}),b.a.success("Symbol ".concat(K," has been reserved successfully!")),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),s({type:"ERROR",error:e.t0.message});case 16:e.next=19;break;case 18:b.a.error("Please provide a symbol");case 19:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function X(){return(X=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),$(["symbol","name","detailsUrl","treasuryWallet","divisible"],{force:!0}).then(function(){var e=Object(c.a)(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"CREATING_TOKEN"}),r=v.filter((function(e){return e.symbol===t.symbol}))[0],e.prev=2,e.next=5,r.createSecurityToken(t);case 5:return a=e.sent,e.next=8,a.run();case 8:e.sent,s({type:"CREATED_TOKEN"}),b.a.success("Token ".concat(r.symbol," has been created successfully!")),J(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),s({type:"ERROR",error:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(c.a)(i.a.mark((function e(){var t,r,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"INITALIZING"}),e.prev=1,e.next=4,m.browserUtils.getNetworkId();case 4:return t=e.sent,e.next=7,m.browserUtils.getCurrentAddress();case 7:if(r=e.sent,[-1,1,42].includes(t)){e.next=11;break}return s({type:"ERROR",error:"Please switch to either Main or Kovan network"}),e.abrupt("return");case 11:return a=L[t],n=new m.Polymath,e.next=15,n.connect(a);case 15:s({type:"INITIALIZED",networkId:t,sdk:n,walletAddress:r}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),s({type:"ERROR",error:e.t0.message});case 21:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}l||function(){e.apply(this,arguments)}()}),[s,l]),Object(a.useEffect)((function(){function e(){return(e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"FETCHING_RESERVATIONS"}),e.prev=1,e.next=4,l.getSecurityTokenReservations({owner:j});case 4:return t=e.sent,e.next=7,Object(A.filter)(t,function(){var e=Object(c.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isLaunched();case 2:return r=e.sent,e.abrupt("return",!r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:t=e.sent,s({type:"FETCHED_RESERVATIONS",reservations:t}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),s({type:"ERROR",error:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}l&&j&&void 0===v&&function(){e.apply(this,arguments)}()}),[v,l,j]),n.a.createElement("div",null,n.a.createElement(E.a,{spinning:d,tip:g,size:"large"},n.a.createElement(y.a,null,n.a.createElement(P,{style:{backgroundColor:"white",display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}},n.a.createElement(U,{networkId:F}),n.a.createElement(G,{walletAddress:j})),n.a.createElement(D,{style:{padding:50,backgroundColor:"#FAFDFF"}},C&&n.a.createElement(h.a,{message:C,type:"error",closable:!0,showIcon:!0}),n.a.createElement(f.a,Object.assign({colon:!1,style:{maxWidth:600}},V),n.a.createElement(_,{level:2,style:{margin:25}},"Reserve Your Token Symbol"),n.a.createElement(B,{style:{margin:25}},"Reservation ensures that no other organization can create a token symbol identical to yours using the Polymath platform. This operation carries a cost of: 250 POLY."),n.a.createElement(M,{name:"symbol",label:"Symbol"},n.a.createElement(w.a,{placeholder:"SYMBOL",value:K,onChange:function(e){var t=e.target.value;RegExp("^[a-zA-Z0-9_-]*$").test(t)&&t.length<=10&&z(t.toUpperCase())}})),n.a.createElement(k.a,{type:"primary",style:{width:"100%"},onClick:function(){return Q.apply(this,arguments)}},"Reserve Symbol")),n.a.createElement(O.a,null),v&&n.a.createElement(f.a,Object.assign({colon:!1,style:{maxWidth:600}},V,{onSubmit:function(e){return X.apply(this,arguments)}}),n.a.createElement(_,{level:2,style:{margin:25}},"Create Your Security Token"),n.a.createElement(B,{style:{margin:25}},"Create your security token using one of your previous symbol reservations. If you let your token reservation expire, the token symbol you selected will be available for others to claim."),n.a.createElement(M,{style:{textAlign:"left",marginBottom:25},name:"symbol",label:"Reservation"},Z("symbol",{rules:[{required:!0,message:"A token reservation is required"}]})(n.a.createElement(p.a,{placeholder:"Select a reservation"},v.map((function(e){var t=e.symbol;return n.a.createElement(N,{key:t,value:t},t)}))))),n.a.createElement(M,{style:{textAlign:"left",marginBottom:25},name:"name",label:"Token Name",extra:"This is the name of your token for display purposes. For example: Toro Token"},Z("name",{rules:[{required:!0,message:"Token name is required"},{max:64}]})(n.a.createElement(w.a,{placeholder:"Enter Token Name"}))),n.a.createElement(M,{style:{textAlign:"left",marginBottom:25},name:"detailsUrl",label:"Token Details",extra:"Paste a link to a web page that includes additional information on your token, such as legend."},Z("detailsUrl",{initialValue:""})(n.a.createElement(w.a,{placeholder:"Paste link here"}))),n.a.createElement(M,{style:{textAlign:"left",marginBottom:25},name:"treasuryWallet",label:"Treasury Wallet Address",extra:"Address of a wallet to be used to store tokens for some operations. Defaults to current user (eg Token Issuer) address"},Z("treasuryWallet",{initialValue:j,rules:[{required:!0},{validator:function(e,t,r){S.utils.isAddress(t)?r():r("Address is invalid")}}]})(n.a.createElement(w.a,null))),n.a.createElement(M,{style:{textAlign:"left",marginBottom:25},name:"divisible",label:"Divisible",extra:"Indivisible tokens are typically used to represent an equity, while divisible tokens may be used to represent divisible assets such as bonds. Please connect with your advisor to select the best option.."},Z("divisible",{initialValue:!1,valuePropName:"checked"})(n.a.createElement(R.a,{style:{float:"left"}}))),n.a.createElement("div",{style:{width:"100%"}},n.a.createElement(x.a,{gutter:16},n.a.createElement(I.a,{span:12},n.a.createElement(k.a,{style:{width:"100%"},htmlType:"reset",onClick:function(){return J()}},"Reset fields")),n.a.createElement(I.a,{span:12}," ",n.a.createElement(k.a,{type:"primary",style:{width:"100%"},htmlType:"submit"},"Create my token")))))))))},Y=function(e){return function(t,r){var a,n=Object.keys(e).reduce((function(n,s){return n[s]=e[s](t[s],r),a=a||n[s]!==t[s],n}),{});return a?n:t}}({AppReducer:function(e,t){switch(console.log("ACTION",t),t.type){case"INITALIZING":return C({},e,{loading:!0,loadingMessage:"Initializing Polymath SDK",error:void 0});case"INITIALIZED":return C({},e,{loading:!1,loadingMessage:"",error:void 0,sdk:t.sdk,networkId:t.networkId,walletAddress:t.walletAddress});case"FETCHING_RESERVATIONS":return C({},e,{loading:!0,loadingMessage:"Fetching your previously reserved symbols",error:void 0});case"RESERVING_SYMBOL":return C({},e,{loading:!0,loadingMessage:"Reserving symbol"});case"RESERVED_SYMBOL":return C({},e,{loading:!0,reservations:void 0,loadingMessage:"Refreshing reservations"});case"CREATING_TOKEN":return C({},e,{loading:!0,loadingMessage:"Creating token"});case"CREATED_TOKEN":return C({},e,{loading:!0,reservations:void 0,loadingMessage:"Refreshing reservations"});case"FETCHED_RESERVATIONS":return C({},e,{loading:!1,loadingMessage:"",error:void 0,reservations:t.reservations});case"ERROR":return C({},e,{loading:!1,loadingMessage:"",error:t.error});default:throw new Error("Unrecognized action type: ".concat(t.type))}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.d(t,"Store",(function(){return q}));var K={AppReducer:{sdk:void 0,loading:!1,loadingMessage:"",error:void 0,networkId:-1,walletAddress:"",reservations:void 0}},q=Object(a.createContext)();o.a.render(n.a.createElement((function(){var e=Object(a.useReducer)(Y,K);return n.a.createElement(q.Provider,{value:e},n.a.createElement(W,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},402:function(e,t,r){e.exports=r(1110)},407:function(e,t,r){},552:function(e,t){},554:function(e,t){},573:function(e,t){},575:function(e,t){},861:function(e,t){},969:function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=969}},[[402,1,2]]]);
//# sourceMappingURL=main.85b99d06.chunk.js.map